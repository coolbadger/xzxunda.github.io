---
layout: base
---

{% include modal.html inData = site.data.baseOrg %}

{% include table_tmp.html apiName = 'baseOrgs' %}

<script type="text/javascript">

    var tableGen = new TableGen();

    tableGen.setTable = function (inTable) {
        inTable.bootstrapTable({
            height: $(window).height(),
            columns: [{
                field: 'state',
                checkbox: true,
                align: 'center',
                valign: 'middle'
            }, {
                title: 'ID',
                field: 'id',
                align: 'center',
                sortable: true,
            }, {
                title: '组织代码',
                field: 'orgCode',
                align: 'center',
            }, {
                title: '组织名称',
                field: 'orgName',
                align: 'center',
            }, {
                title: '联系人',
                field: 'orgContact',
                align: 'center',
            }, {
                title: '地址',
                field: 'orgAddress',
                align: 'center',
            }, {
                title: '电话',
                field: 'orgTell',
                align: 'center',
            }, {
                title: '传真',
                field: 'orgFax',
                align: 'center',
            }, {
                title: '邮箱',
                field: 'orgEmail',
                align: 'center',
            }, {
                title: '操作',
                field: 'operate',
                align: 'center',
                valign: 'middle',
                formatter: this.operateFormatter,
                events: operateEvents
            }]
        });
    };
    var editFields = new Array('id','orgCode','orgName','orgContact');
    window.operateEvents = {
        'click .edit': function (e, value, row, index) {
            for (var item in editFields) {
                $('#' + editFields[item]).val(row[editFields[item]]);
            }
            $('#myModal').modal('show');
        },
        'click .remove': function (e, value, row, index) {
            alert('你选择了删除第' + index + '条记录,' + value + '是: ' + JSON.stringify(row));
            $('#table').bootstrapTable('remove', {
                field: 'id',
                values: [row.id]
            });
        }
    };

    tableGen.bind();

</script>