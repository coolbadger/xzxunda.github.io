<script type="text/javascript" src="/static/js/pagesJS/simple_table_gen.js" charset="utf-8"></script>

<div ng-app="machApp" ng-controller="machCtrl" class="modal fade" id="machTerminalModal" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel1" data-backdrop="static">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel1">添加信息</h4>
            </div>
            <div class="modal-body">
                <table id="machTerminalTable"
                       style="-moz-user-select:none;"
                       onselectstart="return false;"
                       class="table table-hover table-bordered table-striped"
                       data-toolbar="#toolbar"
                       data-search="true"
                       data-show-refresh="true"
                       data-show-toggle="true"
                       data-show-columns="true"
                       data-show-export="true"
                       data-minimum-count-columns="2"
                       data-show-pagination-switch="true"
                       data-pagination="true"
                       data-id-field="id"
                       data-page-list="[10, 25, 50, 100, ALL]"
                       data-url="{{ site.apiurl }}/api/{{ include.terminal }}"
                       datatype="json"
                       data-local="zh-US"
                >
                </table>
            </div>
            <div class="modal-footer">
                <button ng-click="saveObj()" class="btn btn-success">
                    <i class="glyphicon glyphicon-ok"></i> 保存
                </button>
                <button type="button" class="btn btn-primary" data-dismiss="modal">
                    <i class="glyphicon glyphicon-remove"></i> 取消
                </button>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    var simpleTableGen = new SimpleTableGen();
    simpleTableGen.tableID = 'machTerminalTable';
    var settings = new Object();
    settings.columns = [{
        field: 'state',
        checkbox: true,
        align: 'center',
        valign: 'middle'
    }, {
        title: 'ID',
        field: 'id',
        align: 'center',
        sortable: true,
    }, {
        title: '终端号',
        field: 'terminalCode',
        align: 'center',
    }, {
        title: '终端名称',
        field: 'terminalName',
        align: 'center',
    }, {
        title: '手机号码',
        field: 'callNo',
        align: 'center',
    }, {
        title: '状态',
        field: 'state',
        align: 'center',
    }, {
        title: '备注',
        field: 'notes',
        align: 'center',
    }];
    settings.onDblClickRow = function (row, $element) {
        console.log(row);
    }
    simpleTableGen.settings = settings;
    simpleTableGen.bind();

</script>